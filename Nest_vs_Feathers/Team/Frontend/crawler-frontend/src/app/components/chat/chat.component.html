<div class="container-lg mt-5" align="center">
  <header class="title-bar flex flex-row flex-center">
    <div class="title-wrapper block center-element">
      <img class="logo" src="http://feathersjs.com/img/feathers-logo-wide.png"
           alt="Feathers Logo">
    </div>
  </header>

  <div class="row mt-3">

    <div class="col">
      <div class="container" *ngIf="users | async as users">
        <h4>{{users.length}} users</h4>
        <ul class="list-group">
          <li *ngFor="let user of users">
            <h4><span class="badge badge-secondary">{{user.email}}</span></h4>
          </li>
        </ul>
      </div>
      <form class="flex flex-row flex-space-between" id="send-message">
        <input [(ngModel)]="message" class="form-control" type="text" name="message" placeholder="enter message...">
      </form>
      <form class="flex flex-row flex-space-between mt-3" id="twitter-account">
        <input [(ngModel)]="twitterAccount" class="form-control" type="text" name="twitter-account" placeholder="twitter account">
      </form>
      <div class="row ml-auto mt-3">
        <button class="btn btn-outline-secondary mr-3" (click)="sendMessage(message); message = ''">Send</button>
        <button class="btn btn-outline-secondary mr-3" id="logout" (click)="logOut()">Sign Out</button>
        <button class="btn btn-outline-secondary" (click)="fetchTweets(twitterAccount)">Get Tweets</button>
      </div>
    </div>

    <div class="col">
      <div class="flex flex-column col col-9">
        <main class="chat flex flex-column flex-1 clear" #chat [scrollTop]="chat.scrollHeight - chat.clientHeight">
          <div class="container" *ngFor="let message of messages | async">
            <div class="card border-dark mb-3">
              <div class="card-header">{{message.user.email}}</div>
              <div class="card-body text-dark">
                <p class="card-text">{{message.text}}</p>
                <small>{{message.createdAt | date:'MMM dd, hh:mm:ss'}}</small>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <div class="col">
      <div class="container">
        <div class="container" *ngFor="let tweet of tweets | async">
          <div class="card border-dark mb-3">
            <div class="card-header">{{tweet.createdAt | date:'MMM dd, hh:mm:ss'}}</div>
            <div class="card-body text-dark">
              <p class="card-text">{{tweet.output}}</p>
              <div class="card-text">
                Visit: <a href="{{tweet.url}}" class="card-link">{{tweet.url}}</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>




</div>
